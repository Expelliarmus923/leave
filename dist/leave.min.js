"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}();!function(){var e={autoplay:!0,shownavbar:!0,autotime:3e3},t=function(){function t(a){_classCallCheck(this,t),this.config=Object.assign(a,e),this.DEVICE_WIDTH=document.body.clientWidth,this.SIZE=0,this.active_id=0,this.touchArea=null,this.moveArea=null,this.navbarArea=null,this.timer=null,this.render()}return _createClass(t,[{key:"start",value:function(){this.touchArea=document.querySelector(".leave-slider"),this.moveArea=document.querySelector(".leave-slider ul"),this.navbarArea=document.querySelectorAll(".leave-status span"),this.autoPlay(),this.handlerTouch()}},{key:"render",value:function(){var e=this,t=document.querySelector(config.id),a=config.images,i=config.links||["javascript:;"];this.SIZE=a.length;var n="",s="",r="";a.forEach(function(t,a){n+='\n        <li style="background-image:url('+t+");width:"+e.DEVICE_WIDTH+'px">\n        ',n+=a<i.length?'<a href="'+i[a]+'"></a></li>':'<a href="javascript:;"></a></li>',s+=0===a?'<span class="active"></span>':"<span></span>"}),r=!!this.config.height==!1?'<div class="leave-slider">':'<div class="leave-slider" style=height:'+this.config.height+">";var l=r+'\n      <ul class="leave-images" style="width:'+this.DEVICE_WIDTH*this.SIZE+'px">\n      '+n+'\n      </ul>\n      <div class="leave-status">\n      '+s+"\n      </div>\n      </div>";t.innerHTML=l}},{key:"autoPlay",value:function(){var e=this;if(this.config.autoplay){var t=this.config.autotime;this.timer=setInterval(function(){e.active_id<e.SIZE-1?e.active_id++:e.active_id=0,e.doMove()},t)}}},{key:"handlerTouch",value:function(){var e=this,t=this.DEVICE_WIDTH/3,a=this.touchArea,i=(this.moveArea,-this.DEVICE_WIDTH*(this.SIZE-1),0),n=0,s=0,r=0,l=function(t){clearInterval(e.timer),t.preventDefault(),i=t.changedTouches[0].pageX,r=-e.DEVICE_WIDTH*e.active_id},o=function(t){t.preventDefault();var a=t.changedTouches[0].pageX-i+r;e.setCSS(e.moveArea,a)},c=function(a){a.preventDefault(),n=a.changedTouches[0].pageX,s=i-n,s>t?e.nextPage():-t>s?e.prevPage():e.hold(),e.autoPlay()};a.addEventListener("touchstart",l),a.addEventListener("touchmove",o),a.addEventListener("touchend",c)}},{key:"setCSS",value:function(e,t){e.style["-webkit-transform"]="translateX("+t+"px)",e.style.transform="translateX("+t+"px)"}},{key:"doMove",value:function(){this.navbarControl();var e=-this.DEVICE_WIDTH*this.active_id;this.setCSS(this.moveArea,e)}},{key:"hold",value:function(){this.doMove()}},{key:"nextPage",value:function(){this.active_id<this.SIZE-1&&this.active_id++,this.doMove()}},{key:"prevPage",value:function(){this.active_id>0&&this.active_id--,this.doMove()}},{key:"navbarControl",value:function(){var e=this.active_id,t=this.navbarArea;t[e-1]&&(t[e-1].className=""),t[e+1]&&(t[e+1].className=""),0==e&&(t[this.SIZE-1].className=""),t[e].className=" active"}}]),t}();window.Leave=t}();